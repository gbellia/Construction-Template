!function(a){a.fn.avia_ajax_form=function(e){var r=a.extend({sendPath:"send.php",responseContainer:".ajaxresponse"},e);return this.each(function(){var e=a(this),t=!1,i={formElements:e.find("textarea, select, input[type=text], input[type=checkbox], input[type=hidden]"),validationError:!1,button:e.find("input:submit"),dataObj:{}},s=e.next(r.responseContainer).eq(0);i.button.on("click",function(n){i.validationError=!1,i.datastring="ajax=true",i.formElements=e.find("textarea, select, input[type=text], input[type=checkbox], input[type=hidden], input[type=email]"),i.formElements.each(function(r){var t,s,n=a(this),o=n.parent(),l=n.val(),d=n.attr("name"),v=n.attr("class"),c=!0;if(n.is(":checkbox")&&(l=!!n.is(":checked")||""),i.dataObj[d]=encodeURIComponent(l),v&&v.match(/is_empty/)&&(""==l||null==l?(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0):o.removeClass("valid error ajax_alert").addClass("valid"),c=!1),v&&v.match(/is_email/)&&(l.match(/^[\w|\.|\-]+@\w[\w|\.|\-]*\.[a-zA-Z]{2,20}$/)?o.removeClass("valid error ajax_alert").addClass("valid"):(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0),c=!1),v&&v.match(/is_ext_email/)&&(l.match(/^[\w\.\-ÄÖÜäöü]+@\w[\w\.\-ÄÖÜäöü]*\.[a-zA-Z]{2,20}$/)?o.removeClass("valid error ajax_alert").addClass("valid"):(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0),c=!1),v&&v.match(/is_special_email/)&&(l.match(/^[a-zA-Z0-9.!#$%&'*+\-\/=?^_`{|}~ÄÖÜäöü]+@\w[\w\.\-ÄÖÜäöü]*\.[a-zA-Z]{2,20}$/)?o.removeClass("valid error ajax_alert").addClass("valid"):(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0),c=!1),v&&v.match(/is_phone/)&&(l.match(/^(\d|\s|\-|\/|\(|\)|\[|\]|e|x|t|ension|\.|\+|\_|\,|\:|\;){3,}$/)?o.removeClass("valid error ajax_alert").addClass("valid"):(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0),c=!1),v&&v.match(/is_number/)&&(l.match(/^-?\s*(0|[1-9]\d*)([\.,]\d+)?$/)?o.removeClass("valid error ajax_alert").addClass("valid"):(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0),c=!1),v&&v.match(/is_positiv_number/)&&("number"!=(s=typeof(t=l))&&"string"!==s||isNaN(t-parseFloat(t))||""==l||l<0?(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0):o.removeClass("valid error ajax_alert").addClass("valid"),c=!1),v&&v.match(/captcha/)&&!v.match(/recaptcha/)){var m=e.find("#"+d+"_verifier").val(),u=m.charAt(m.length-1);l!=m.charAt(u)?(o.removeClass("valid error ajax_alert").addClass("error"),i.validationError=!0):o.removeClass("valid error ajax_alert").addClass("valid"),c=!1}c&&""!=l&&o.removeClass("valid error ajax_alert").addClass("valid")}),0==i.validationError&&(e.data("av-custom-send")?function(){if(t)return!1;t=!0;var n=i.button.val();i.button.addClass("av-sending-button"),i.button.val(i.button.data("sending-label")),i.dataObj.ajax_mailchimp=!0;var o=e.data("avia-redirect")||!1,l=e.attr("action"),d=e.find(".av-form-error-container"),v=e.data("avia-form-id");a.ajax({url:l,type:"POST",data:i.dataObj,beforeSend:function(){d.length&&d.slideUp(400,function(){d.remove(),a("body").trigger("av_resize_finished")})},success:function(d){var c=jQuery("<div>").append(jQuery.parseHTML(d)),m=c.find(".av-form-error-container");if(m.length)t=!1,e.prepend(m),m.css({display:"none"}).slideDown(400,function(){a("body").trigger("av_resize_finished")}),i.button.removeClass("av-sending-button"),i.button.val(n);else if(o&&l!=o)e.attr("action",o),location.href=o;else{var u=c.find(r.responseContainer+"_"+v);s.html(u).removeClass("hidden").css({display:"block"}),e.slideUp(400,function(){s.slideDown(400,function(){a("body").trigger("av_resize_finished")}),i.formElements.val("")})}},error:function(){},complete:function(){}})}():function(){if(t)return!1;if(i.button.hasClass("avia_button_inactive"))return!1;t=!0,i.button.addClass("av-sending-button"),i.button.val(i.button.data("sending-label"));var n=e.data("avia-redirect")||!1,o=e.attr("action");if(e.is(".av-form-labels-style"))return;s.load(o+" "+r.responseContainer,i.dataObj,function(){n&&o!=n?(e.attr("action",n),location.href=n):(s.removeClass("hidden").css({display:"block"}),e.slideUp(400,function(){s.slideDown(400,function(){a("body").trigger("av_resize_finished")}),i.formElements.val("")}))})}());return!1}),a.avia_utilities.isMobile&&i.formElements.each(function(e){var r=a(this);r.hasClass("is_email")&&r.attr("type","email")})})}}(jQuery);